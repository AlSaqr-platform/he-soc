package:
  name: ariane-soc
  authors:
    - "Luca Valente"

dependencies:
  axi_riscv_atomics: { path: "deps/axi_riscv_atomics" }
  clint: { path: "deps/clint" }
  rv_plic: { path: "deps/rv_plic" }
  util: { path: "deps/util" }
  alsaqr_padframe: { path: "deps/alsaqr_periph_padframe" }
  apb_host_control: { path: "deps/apb_host_control_regs" }
  apb_uart: { path: "../fpga/src/apb_uart" }
  axi_tlb: { path: "deps/axi_tlb"}
  cva6: { git: "git@github.com:minho-pulp/cva6.git" , rev: "7de8e9429f0cf38b8668e7c993d4acad63bbc4b1" }
  riscv-dbg: { git: "git@github.com:Alsaqr-platform/riscv-dbg.git", rev: "4d8ead780a6b9877873930bcc3c8ed4806d2c8a3" }
  axi: { git: "https://github.com/pulp-platform/axi.git", version: "0.29.1" } 
  fpnew: { git: "https://github.com/pulp-platform/fpnew.git", version: 0.6.5 }
  tcdm_interconnect: { git: "https://github.com/pulp-platform/cluster_interconnect.git", version: "1.1.2" }
  axi2tcdm: { git: "https://github.com/AlSaqr-platform/axi2mem.git", rev: "master" }
  apb: { git: "https://github.com/pulp-platform/apb.git", version: 0.2.1 }
  udma_core: { git: "https://github.com/Alsaqr-platform/udma_core.git", version: 2.0.0 }
  udma_uart: { git: "https://github.com/Alsaqr-platform/udma_uart.git", rev: "28fe46e2571679762d759890007d11721e89c308" }
  udma_i2c: { git: "https://github.com/Alsaqr-platform/udma_i2c.git", rev: "a0713d439e11b3b85f0071dc6b59d9fb758633ca" }
  udma_qspi: { git: "https://github.com/Alsaqr-platform/udma_qspi.git", rev: "2d0f67acfcdc5a3ee1c0a925db745f0daffb33cb" }
  udma_sdio: { git: "https://github.com/Alsaqr-platform/udma_sdio.git", rev: "f6bab4a0d249c55f937ecfdbeb1dfbed6d4492f8" }
  udma_camera: { git: "https://github.com/Alsaqr-platform/udma_camera.git", rev: "0339ff06f0b62310d9c6c4b095d46b83064e0a23" }
  udma_filter: { git: "https://github.com/Alsaqr-platform/udma_filter.git", rev: "3e1fe269bcb70a7eef115ca8dc7e668229f04b46" }
  udma_external_per: { git: "https://github.com/Alsaqr-platform/udma_external_per.git", rev: "2b43a6a5b1c6d11dc7a6a6ada5233682adb76447" }
  tech_cells_generic: { git: "https://github.com/pulp-platform/tech_cells_generic.git", version: 0.2.7 }
  apb_node: { git: "https://github.com/pulp-platform/apb_node.git", rev: "d436ab3dad8260eadc1288bdc543c79b4d7462c7" }
  apb_gpio: { git: "https://github.com/pulp-platform/apb_gpio.git", rev: "0e9f142f2f11278445c953ad011fce1c7ed85b66" }
  hyperbus: { git: "git@git.eees.dei.unibo.it:alsaqr-synthesis/hyperbus.git", rev: "290e16c8afbc1c918a8d6fc15a3d498bd4730d8c" }
  apb_fll_if: { git: "git@github.com:AlSaqr-platform/apb_fll_if.git", rev: "597faa6bab2971d79098545fa076bbca293ae90d" }
  register_interface:  { git: "https://github.com/pulp-platform/register_interface.git", version: 0.3.1  }
  fll_behav: { git: "git@git.eees.dei.unibo.it:alsaqr-synthesis/fll_behav.git", rev: "94a1e45d53c9fa71ae897a66dea6f19111eb6655" }
  apb_adv_timer: { git: "https://github.com/pulp-platform/apb_adv_timer.git", version: 1.0.4 }
  pulp_cluster: { git: "git@github.com:AlSaqr-platform/pulp_cluster.git", rev: "2d838abb4abf9c4a23582a6732381fb6574dcfed" }
  ddr-link: { git: "git@iis-git.ee.ethz.ch:bslk/ddr-link.git", rev: "a48fcaa3275bc0c6114ae38569f4df59437b6cad"}

export_include_dirs:
  - include/

sources:
  - include/ariane_soc_pkg.sv
  - include/apb_soc_pkg.sv
  - include/pulp_interfaces.sv
  - include/ariane_axi_soc_pkg.sv
  - include/udma_subsystem_pkg.sv
  - include/gpio_pkg.sv
  - include/tcdm_macros.sv
  - host/axi2tcdm_wrap.sv
  - host/ariane_peripherals.sv
  - host/udma_subsystem.sv
  - ../fpga/src/axi2apb/src/axi2apb.sv
  - ../fpga/src/axi2apb/src/axi2apb_64_32.sv
  - ../fpga/src/axi2apb/src/axi2apb_wrap.sv
  - ../fpga/src/axi_slice/src/axi_w_buffer.sv
  - ../fpga/src/axi_slice/src/axi_b_buffer.sv
  - ../fpga/src/axi_slice/src/axi_slice_wrap.sv
  - ../fpga/src/axi_slice/src/axi_slice.sv
  - ../fpga/src/axi_slice/src/axi_single_slice.sv
  - ../fpga/src/axi_slice/src/axi_ar_buffer.sv
  - ../fpga/src/axi_slice/src/axi_r_buffer.sv
  - ../fpga/src/axi_slice/src/axi_aw_buffer.sv
  - ../fpga/src/apb_timer/apb_timer.sv
  - ../fpga/src/apb_timer/timer.sv
  - host/periph_bus_wrap.sv
  - host/freqmeter.sv
  - host/alsaqr_clk_rst_gen.sv
  - host/apb_soc_control.sv
  - host/apb_subsystem.sv
  - host/gpio2padframe.sv
  - host/cva6_subsystem.sv
  - host/l2_subsystem.sv
  - host/clk_gen_hyper.sv
  - host/host_domain.sv
  - host/pad_frame.sv
  - host/al_saqr.sv

  - target: all(fpga,xilinx, not(asic))
    defines:
      FPGA_TARGET_XILINX: ~
      WT_DCACHE: ~
      FPGA_EMUL: ~
      PULP_FPGA_EMUL: ~
    files:
      - ../fpga/src/pad_functional_xilinx/pad_functional_xilinx.sv
      - ./fpga/fpga_clk_gen.sv
      - ./fpga/boot_rom.sv
      - ./fpga/alsaqr_xilinx.sv

  - target: all(asic, not(all(fpga, xilinx)))
    defines:
      WT_DCACHE: ~
    files:
      - ../bootrom/bootrom.sv
      - host/memwrap_gf22.sv
      - host/pads_gf22.sv
      - host/tc_sram_gf22.sv
      - host/tc_clk_gf22.sv
      
  - target: vip
    files:
      - tb/vip/hyperflash_model/s26ks512s.v
      - tb/vip/hyperram_model/s27ks0641.v
      - tb/vip/i2c_eeprom/24FC1025.v
      - tb/vip/spi_flash/S25fs256s/model/s25fs256s.v
      - tb/vip/camera/cam_vip.sv
      
  - target: test
    files:
      - tb/common/uart.sv                                                     
      - tb/common/SimDTM.sv                                                   
      - tb/common/SimJTAG.sv
      - ../bootrom/bootrom.sv
      - tb/common/jtag_pkg.sv
      - tb/common/jtag_intf.sv
      - tb/common/mock_uart.sv
      - tb/ariane_tb.sv

