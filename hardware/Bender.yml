package:
  name: ariane-soc
  authors:
    - "Luca Valente"

dependencies:
  cva6: { path: "deps/cva6" }
  apb_uart: { path: "../fpga/src/apb_uart" }
  axi: { git: "https://github.com/pulp-platform/axi.git", version: "0.29.0" } 
  tcdm_interconnect: { git: "https://github.com/pulp-platform/cluster_interconnect.git", version: "1.1.2" }
  axi2tcdm: { git: "https://github.com/AlSaqr-platform/axi2mem.git", rev: "master" }
  apb:  { git: "https://github.com/pulp-platform/apb.git", version:  0.1.0 }
  udma_core: { git: "https://github.com/pulp-platform/udma_core.git", version: 1.0.2 }
  udma_uart: { git: "https://github.com/pulp-platform/udma_uart.git", version: 1.0.1 }
  udma_i2c: { git: "https://github.com/pulp-platform/udma_i2c.git", version: 1.0.0 }
  udma_i2s: { git: "https://github.com/pulp-platform/udma_i2s.git", version: 1.1.2 }
  udma_qspi: { git: "https://github.com/pulp-platform/udma_qspi.git", version: 1.0.4 }
  udma_sdio: { git: "https://github.com/pulp-platform/udma_sdio.git", version: 1.1.2 }
  udma_camera: { git: "https://github.com/pulp-platform/udma_camera.git", version: 1.1.2 }
  udma_filter: { git: "https://github.com/pulp-platform/udma_filter.git", version: 1.0.2 }
  udma_external_per: { git: "https://github.com/pulp-platform/udma_external_per.git", version: 1.0.3 }
  udma_hyper: { git: "https://github.com/pulp-platform/udma_hyper.git", rev: "e404cb28b8a19d48f0fd88a3806498a122932bf3" }
  tech_cells_generic: { git: "https://github.com/pulp-platform/tech_cells_generic.git", version: 0.2.3 }
  apb_node: { git: "https://github.com/pulp-platform/apb_node.git", version: 0.1.1 }
  apb_gpio: { git: "https://github.com/pulp-platform/apb_gpio.git", rev: "0e9f142f2f11278445c953ad011fce1c7ed85b66" }
  hyperbus: { git: "git@iis-git.ee.ethz.ch:bslk/hyperbus.git", rev: "b6bc5197ce106c138ac3731a7faee482017e2d45" }
  register_interface:  { git: "https://github.com/pulp-platform/register_interface.git", version: 0.2.2  }

export_include_dirs:
  - include/

sources:
  - deps/cva6/src/tech_cells_generic/src/generic_memory.sv
  - include/ariane_soc_pkg.sv
  - include/apb_soc_pkg.sv
  - include/pulp_interfaces.sv
  - include/ariane_axi_soc_pkg.sv
  - include/tcdm_macros.sv
  - host/axi2tcdm_wrap.sv
  - host/ariane_peripherals.sv
  - host/udma_subsystem.sv
  - ../fpga/src/axi2apb/src/axi2apb.sv
  - ../fpga/src/axi2apb/src/axi2apb_64_32.sv
  - ../fpga/src/axi2apb/src/axi2apb_wrap.sv
  - host/periph_bus_wrap.sv
  - host/apb_subsystem.sv
  - host/cva6_subsystem.sv
  - host/l2_subsystem.sv
  - host/host_domain.sv
  - host/pad_frame.sv
  - host/al_saqr.sv
  - tb/common/uart.sv                                                     
  - tb/common/SimDTM.sv                                                   
  - tb/common/SimJTAG.sv

  - target: all(fpga,xilinx)
    defines:
      FPGA_TARGET_XILINX: ~
      WT_DCACHE: ~
      FPGA_EMUL: ~
    files:
      - ../fpga/src/pad_functional_xilinx/pad_functional_xilinx.sv
      - ./fpga/boot_rom.sv
      - ./fpga/alsaqr_xilinx.sv
      
  - target: vip
    files:
      - tb/vip/hyperflash_model/s26ks512s.v
      - tb/vip/hyperram_model/s27ks0641.v
      
  - target: test
    files:
      - deps/cva6/src/util/sram.sv
      - ../bootrom/bootrom.sv
      - tb/common/mock_uart.sv
      - tb/ariane_tb.sv

