name: alsaqr_periph_padframe

manifest_version: 2
pad_domains:
  - name: periphs
    pad_types: # behavioural pads as of now
      - name: pad_functional_pd
        description: "behavioural PD pad"
        template: |
          pad_functional_pd ${instance_name} (
            .OEN(${conn["oen"]}),
            .I(${conn["chip2pad"]}),
            .O(${conn["pad2chip"]}),
            .PAD(${conn["pad"]}),
            .PEN(1'b1)
          );
        pad_signals: &BEHAV_SIGNALS
          - name: pad
            size: 1
            kind: pad
          - name: chip2pad
            description: "The signal that connects to the pads TX driver"
            size: 1
            kind: input
            conn_type: dynamic
            default_reset_value: 0
            default_static_value: 1'b0
          - name: pad2chip
            description: "The signal that connects to the pads RX buffer"
            size: 1
            kind: output
            conn_type: dynamic
          - name: oen
            size: 1
            kind: input
            description: "Output enable signal, active low"
            conn_type: dynamic
            default_reset_value: 1
            default_static_value: 1'b1

      - name: pad_functional_pu
        description: "behavioural PU pad"
        template: |
          pad_functional_pu ${instance_name} (
            .OEN(${conn["oen"]}),
            .I(${conn["chip2pad"]}),
            .O(${conn["pad2chip"]}),
            .PAD(${conn["pad"]}),
            .PEN(1'b1)
          );
        pad_signals: *BEHAV_SIGNALS

    pad_list:     # padframe physical pad instances

        ##   _____ _        _   _      
        ##  / ____| |      | | (_)     
        ## | (___ | |_ __ _| |_ _  ___ 
        ##  \___ \| __/ _` | __| |/ __|
        ##  ____) | || (_| | |_| | (__ 
        ## |_____/ \__\__,_|\__|_|\___|
      - name: pad_gpio{i}
        pad_type: pad_functional_pd
        is_static: true
        multiple: 56
        connections:
          pad2chip: gpio{i}_o
          chip2pad: gpio{i}_i
          oen: ~gpio{i}_dir_i

        ##  __  __                    _ 
        ## |  \/  |                  | |
        ## | \  / |_   ___  _____  __| |
        ## | |\/| | | | \ \/ / _ \/ _` |
        ## | |  | | |_| |>  <  __/ (_| |
        ## |_|  |_|\__,_/_/\_\___|\__,_|
      - name: pad_io_a_{i:2d}
        mux_groups: [mx_a]
        description: "pads for 3 i2c and 2 spi"
        multiple: 15
        pad_type: pad_functional_pd
        is_static: false
      - name: pad_io_b_{i:2d}
        mux_groups: [mx_b]
        description: "pads for 5 spi"
        multiple: 20
        pad_type: pad_functional_pd
        is_static: false
      - name: pad_io_c_{i:2d}
        mux_groups: [mx_c]
        description: "pads for 1 qspi and 1 sdio"
        multiple: 14
        pad_type: pad_functional_pd
        is_static: false
      - name: pad_io_d_{i:2d}
        mux_groups: [mx_d]
        description: "pads for 3 uarts with cf and 2 uart"
        multiple: 16
        pad_type: pad_functional_pd
        is_static: false
      - name: pad_io_e_{i:2d}
        mux_groups: [mx_e]
        description: "pads for 3 spi, 1 camera, 2 can buses and 1 i2c"
        multiple: 15
        pad_type: pad_functional_pd
        is_static: false
      - name: pad_io_f_{i:2d}
        mux_groups: [mx_f]
        description: "pads for 1 camera, 2 uart, 1 spi, 1 i2c"
        multiple: 11
        pad_type: pad_functional_pd
        is_static: false
      - name: pad_io_g_{i:2d}
        mux_groups: [mx_g]
        description: "pads for 1 sdio, 1 cf uart and 1 ethernet"
        multiple: 15
        pad_type: pad_functional_pd
        is_static: false
      - name: pad_pwm{i}
        mux_groups: [mx_pwm, self]
        multiple: 8
        description: "PWM pads"
        pad_type: pad_functional_pd
        is_static: false

      ##  _____           _       
      ## |  __ \         | |      
      ## | |__) |__  _ __| |_ ___ 
      ## |  ___/ _ \| '__| __/ __|
      ## | |  | (_) | |  | |_\__ \
      ## |_|   \___/|_|   \__|___/    

    port_group_common_definitions:
      qspi_port_group: &qspi_port_group
        name: qspi_tlp
        mux_groups: mx_qspi_tpl
        output_defaults: 1'b0
        ports:
          - name: qspi_sck
            connections:
              chip2pad: clk_i
              oen: 1'b0
          - name: qspi_csn
            connections:
              chip2pad: csn0_i
              oen: 1'b0
          - name: qspi_sd{i}
            multiple: 4
            connections:
              chip2pad: sd{i}_i
              sd{i}_o: pad2chip
              oen: sd{i}_oen_i
      cam_port_group: &cam_port_group
        name: cam_tlp
        mux_groups: mx_cam_tpl
        output_defaults: 1'b1
        ports:
          - name: cam_pclk
            connections:
              clk_o: pad2chip
              oen: 1'b1
          - name: cam_hsync
            connections:
              hsync_o: pad2chip
              oen: 1'b1
          - name: cam_vsync
            connections:
              vsync_o: pad2chip
              oen: 1'b1
          - name: cam_data{i}_i
            multiple: 8
            connections:
              data{i}_o: pad2chip
              oen: 1'b1
      spi_port_group: &spi_port_group
        name: spi_tlp
        mux_groups: mx_spi_tpl
        output_defaults: 1'b0
        ports:
          - name: spi_sck
            connections:
              chip2pad: clk_i
              oen: 1'b0
          - name: spi_cs
            connections:
              chip2pad: csn0_i
              oen: 1'b0
          - name: spi_miso
            connections:
              sd1_o: pad2chip
              oen: 1'b1
          - name: spi_mosi
            connections:
              chip2pad: sd0_i
              oen: 1'b0              
      i2c_port_group: &i2c_port_group
        name: i2c_tpl
        mux_groups: mx_i2c_tpl
        output_defaults:
          sda_o: 1'b1
          scl_o: 1'b1
        ports:
          - name: i2c_sda
            description: "Bidirectional I2C SDA signal"
            connections:
              chip2pad: sda_i
              sda_o: pad2chip
              oen: ~sda_oe_i
          - name: i2c_scl
            description: "Bidirectional I2C clock signal"
            connections:
              chip2pad: scl_i
              scl_o: pad2chip
              oen: ~scl_oe_i
      gpio_port_group: &gpio_port_group
        name: gpio_tpl
        mux_groups: mx_gpio_tpl
        output_defaults: 1'b1
        ports:
          - name: gpio
            connections:              
              chip2pad: gpio_i
              gpio_o: pad2chip
              oen: gpio_dir
      sdio_port_group: &sdio_port_group
        name: sdio_tpl
        mux_groups: mx_sdio_tpl
        output_defaults: 1'b1
        ports:
          - name: sdio_clk
            connections:
              chip2pad: clk_i
              oen: 1'b0
          - name: sdio_cmd
            connections:
              chip2pad: cmd_i
              cmd_o: pad2chip
              oen: cmd_oen_i
          - name: sdio_data{i}
            multiple: 4
            connections:
              chip2pad: data{i}_i
              data{i}_o: pad2chip
              oen: data{i}_oen_i
      uart_port_group: &uart_port_group
        name: uart_tpl
        mux_groups: mx_uart_tpl
        output_defaults: 1'b1
        ports:
          - name: uart_tx
            connections:
              chip2pad: tx_i
              oen: 1'b0
          - name: uart_rx
            connections:
              rx_o: pad2chip
              oen: 1'b0
      uart_cf_port_group: &uart_cf_port_group
        name: uart_cf_tpl
        mux_groups: mx_uart_cf_tpl
        output_defaults: 1'b1
        ports:
          - name: uart_tx
            connections:
              chip2pad: tx_i
              oen: 1'b0
          - name: uart_rx
            connections:
              rx_o: pad2chip
              oen: 1'b0
          - name: uart_rts
            connections:
              chip2pad: rts_i
              oen: 1'b0
          - name: uart_cts
            connections:
              cts_o: pad2chip
              oen: 1'b0
      hyper_port_group: &hyper_port_group
        name: hyper_tpl
        mux_groups: mx_hyper_tpl
        output_defaults: 1'b0
        ports:
          - name: hyper_cs{i}
            multiple: 2
            connections:
              chip2pad: cs{i}n_i
              oen: 1'b0
          - name: hyper_ck
            connections:
              chip2pad: ck_i
              oen: 1'b0
          - name: hyper_ckn
            connections:
              chip2pad: ckn_o
              oen: 1'b0
          - name: hyper_rwds
            connections:
              chip2pad: rwds_i
              rwds_o: pad2chip
              oen: ~rwds_oe_i
          - name: hyper_dq{i}_i
            multiple: 8
            connections:
              chip2pad: dq{i}_i
              dq{i}_o: pad2chip
              oen: ~dq_oe
          - name: hyper_rst
            connections:
              chip2pad: resetn_i
              oen: 1'b0
      eth_port_group: &eth_port_group
        name: eth_tpl
        mux_groups: mx_eth_tpl
        output_defaults: 1'b0
        ports:
          - name: eth_rst
            connections:
              chip2pad: eth_rst_i
              oen: 1'b0
          - name: eth_rxck
            connections:
              eth_rxcd_o: pad2chip
              oen: 1'b0
          - name: eth_rxctl
            connections:
              eth_rxctl_o: pad2chip
              oen: 1'b0
          - name: eth_rxd{i}
            multiple: 4
            connections:
              eth_rxd{i}_o: pad2chip
              oen: 1'b0
          - name: eth_txck
            connections:
              chip2pad: eth_txcd_i
              oen: 1'b1
          - name: eth_txctl
            connections:
              chip2pad: eth_txctl_o
              oen: 1'b1
          - name: eth_txd{i}
            multiple: 4
            connections:
              chip2pad: eth_txd{i}_i
              oen: 1'b1
              
            
          
      
          
              
    port_groups:
      - <<: *i2c_port_group
        name: i2c0
        mux_groups: [mx_a]
      - <<: *i2c_port_group
        name: i2c1
        mux_groups: [mx_a]
      - <<: *i2c_port_group
        name: i2c2
        mux_groups: [mx_a]
      - <<: *spi_port_group
        name: spi0
        mux_groups: [mx_a]
      - <<: *spi_port_group
        name: spi1
        mux_groups: [mx_a]
      - name: spi1_cs1
        mux_groups: [mx_a]
        output_defaults: 1'b1
        ports:
          - name: spi1_cs1
            connections:
              chip2pad: csn1_i
              oen: 1'b0

      - <<: *spi_port_group
        name: spi2
        mux_groups: [mx_b]
      - <<: *spi_port_group
        name: spi3
        mux_groups: [mx_b]
      - <<: *spi_port_group
        name: spi4
        mux_groups: [mx_b]
      - <<: *spi_port_group
        name: spi5
        mux_groups: [mx_b]
      - <<: *spi_port_group
        name: spi6
        mux_groups: [mx_b]

      - <<: *qspi_port_group
        name: qspi
        mux_groups: [mx_c]
      - <<: *sdio_port_group
        name: sdio0
        mux_groups: [mx_c]

      - <<: *uart_port_group
        name: uart0
        mux_groups: [mx_d]
      - <<: *uart_port_group
        name: uart1
        mux_groups: [mx_d]
      - <<: *uart_cf_port_group
        name: uart_cf0
        mux_groups: [mx_d]
      - <<: *uart_cf_port_group
        name: uart_cf1
        mux_groups: [mx_d]
      - <<: *uart_cf_port_group
        name: uart_cf2
        mux_groups: [mx_d]

      - name: pwm
        mux_groups: [mx_pwm]
        ports:
          - name: pwm{i}
            multiple: 8
            connections:
              chip2pad: pwm{i}_i
              oen: 1'b0
              
      - <<: *spi_port_group
        name: spi7
        mux_groups: [mx_e]
      - <<: *spi_port_group
        name: spi8
        mux_groups: [mx_e]
      - <<: *spi_port_group
        name: spi9
        mux_groups: [mx_e]
      - <<: *i2c_port_group
        name: i2c3
        mux_groups: [mx_e]
      - <<: *cam_port_group
        name: cam0
        mux_groups: [mx_e]
      - name: CAN2_CAN
        mux_groups: [mx_e]
        output_defaults:
          can1_rx_o: 1'b1
          can2_rx_o: 1'b1
        ports:
          - name: can1_tx
            connections:
              chip2pad: can1_tx_i
              oen: 1'b0
          - name: can1_rx
            connections:
              can1_rx_o: pad2chip
              oen: 1'b1
          - name: can2_tx
            connections:
              chip2pad: can2_tx_i
              oen: 1'b0
          - name: can2_rx
            connections:
              can2_rx_o: pad2chip
              oen: 1'b1
              
      - <<: *spi_port_group
        name: spi10
        mux_groups: [mx_f]
      - <<: *i2c_port_group
        name: i2c4
        mux_groups: [mx_f]
      - <<: *uart_port_group
        name: uart2
        mux_groups: [mx_f]
      - <<: *uart_port_group
        name: uart3
        mux_groups: [mx_f]
      - <<: *cam_port_group
        name: cam1
        mux_groups: [mx_f]      

      - <<: *uart_cf_port_group
        name: uart_cf3
        mux_groups: [mx_g]
      - <<: *eth_port_group
        name: eth0
        mux_groups: [mx_g]
      - <<: *sdio_port_group
        name: sdio1
        mux_groups: [mx_g]      

        
          
        
        



      
