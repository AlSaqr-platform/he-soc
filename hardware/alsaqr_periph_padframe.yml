name: alsaqr_periph_padframe

manifest_version: 2
pad_domains:
  - name: periphs
    pad_types: # behavioural pads as of now
      - name: pad_functional_pd
        description: "behavioural PD pad"
        template: |
          pad_functional_pd ${instance_name} (
            .OEN(${conn["oen"]}),
            .I(${conn["chip2pad"]}),
            .O(${conn["pad2chip"]}),
            .PAD(${conn["pad"]}),
            .PEN(1'b1)
          );
        pad_signals: &BEHAV_SIGNALS
          - name: pad
            size: 1
            kind: pad
          - name: chip2pad
            description: "The signal that connects to the pads TX driver"
            size: 1
            kind: input
            conn_type: dynamic
            default_reset_value: 0
            default_static_value: 1'b0
          - name: pad2chip
            description: "The signal that connects to the pads RX buffer"
            size: 1
            kind: output
            conn_type: dynamic
          - name: oen
            size: 1
            kind: input
            description: "Output enable signal, active low"
            conn_type: dynamic
            default_reset_value: 1
            default_static_value: 1'b1

      - name: pad_functional_pu
        description: "behavioural PU pad"
        template: |
          pad_functional_pu ${instance_name} (
            .OEN(${conn["oen"]}),
            .I(${conn["chip2pad"]}),
            .O(${conn["pad2chip"]}),
            .PAD(${conn["pad"]}),
            .PEN(1'b1)
          );
        pad_signals: *BEHAV_SIGNALS

    ##   _____ _        _   _      
    ##  / ____| |      | | (_)     
    ## | (___ | |_ __ _| |_ _  ___ 
    ##  \___ \| __/ _` | __| |/ __|
    ##  ____) | || (_| | |_| | (__ 
    ## |_____/ \__\__,_|\__|_|\___|
    pad_list:     # padframe physical pad instances
      - name: pad_i2c{i}_scl # The instance name of the pad. 
        description: "I2C SCL static interfaces"
        pad_type: pad_functional_pd
        multiple: 3
        is_static: true # not muxed pad (static)
        connections:
          pad2chip: i2c{i}_scl_o
          chip2pad: i2c{i}_scl_i
          oen: ~i2c{i}_scl_oe

      - name: pad_i2c{i}_sda # The instance name of the pad. 
        description: "I2C SDA interface with barometer"
        pad_type: pad_functional_pd
        multiple: 3
        is_static: true # not muxed pad (static)
        connections:
          pad2chip: i2c{i}_sda_o
          chip2pad: i2c{i}_sda_i
          oen: ~i2c{i}_sda_oe

      - name: pad_spi{i}_cs # The instance name of the pad.
        description: "SPI CS static interface"
        pad_type: pad_functional_pd
        multiple: 7
        is_static: true # not muxed pad (static)
        connections:
          chip2pad: spi{i}_cs_i
          oen: 1'b0

      - name: pad_spi{i}_sck # The instance name of the pad. 
        description: "SPI SCK interface"
        pad_type: pad_functional_pd
        multiple: 7
        is_static: true # not muxed pad (static)
        connections:
          chip2pad: spi{i}_sck_i
          oen: 1'b0

      - name: pad_spi{i}_mosi # The instance name of the pad. 
        description: "SPI MOSI interface"
        pad_type: pad_functional_pd
        multiple: 7
        is_static: true # not muxed pad (static)
        connections:
          chip2pad: spi{i}_mosi_i
          oen: 1'b0

      - name: pad_spi{i}_miso # The instance name of the pad. 
        description: "SPI MISO interface"
        pad_type: pad_functional_pd
        multiple: 7
        is_static: true # not muxed pad (static)
        connections:
          chip2pad: spi{i}_miso_i
          oen: 1'b1

      - name: pad_qspi_sck # The instance name of the pad. 
        description: "OpentTitan QSPI SCK interface"
        pad_type: pad_functional_pd
        is_static: true # not muxed pad (static)
        connections:
          chip2pad: qspi_sck_i
          oen: 1'b0

      - name: pad_qspi_csn # The instance name of the pad. 
        description: "OpentTitan QSPI CSN interface"
        pad_type: pad_functional_pd
        is_static: true # not muxed pad (static)
        connections:
          chip2pad: qspi_csn_i
          oen: 1'b0          

      - name: pad_qspi_io{i} # The instance name of the pad. 
        description: "OpentTitan QSPI IO interface"
        pad_type: pad_functional_pd
        multiple: 4
        is_static: true # not muxed pad (static)
        connections:
          pad2chip: qspi_io{i}_o
          chip2pad: qspi_io{i}_i
          oen: ~qspio_io{i}_oe

      - name: pad_uart{i}_tx # The instance name of the pad. 
        description: "UART TX interface"
        pad_type: pad_functional_pd
        multiple: 5
        is_static: true # not muxed pad (static)
        connections:
          chip2pad: uart{i}_tx_i
          oen: 1'b0

      - name: pad_uart{i}_rx # The instance name of the pad. 
        description: "UART RX interface"
        pad_type: pad_functional_pd
        multiple: 5
        is_static: true # not muxed pad (static)
        connections:
          pad2chip: uart{i}_rx_o
          oen: 1'b1
          
      - name: pad_uart{i}_rts # The instance name of the pad. 
        description: "UART RX interface"
        pad_type: pad_functional_pd
        multiple: 3
        is_static: true # not muxed pad (static)
        connections:
          pad2chip: uart{i}_rx_o
          oen: 1'b1   
          
      - name: pad_gpioa{i}
        description: "First 32 gpios"
        multiple: 32
        pad_type: pad_functional_pd
        is_static: true
        connections:
          pad2chip: gpioa_{i}_o
          chip2pad: gpioa_{i}_i
          oen: gpioa_{i}_dir

      - name: pad_gpiob{i}
        description: "gpios[56:32]"
        multiple: 25
        pad_type: pad_functional_pd
        is_static: true
        connections:
          pad2chip: gpiob_{i}_o
          chip2pad: gpiob_{i}_i
          oen: gpiob_{i}_dir
          
      - name: pad_pwm{i}
        description: "First 32 gpios"
        multiple: 4
        pad_type: pad_functional_pd
        is_static: true
        connections:
          chip2pad: pwm{i}_i
          oen: 1'b0          

      - name: pad_sdio0_en
        description: "SDIO 0 en"
        pad_type: pad_functional_pd
        is_static: true
        connections:
          chip2pad: sdio0_en_i
          oen: 1'b0

      - name: pad_sdio0_clk
        description: "SDIO 0 clk"
        pad_type: pad_functional_pd
        is_static: true
        connections:
          chip2pad: sdio0_clk_i
          oen: 1'b0

      - name: pad_sdio0_cmd
        description: "SDIO 0 CMD"
        pad_type: pad_functional_pd
        is_static: true
        connections:
          chip2pad: sdio0_cmd_i
          pad2chip: sdio0_cmd_o
          oen: ~sdio_cmd_oe          
          
      - name: pad_sdio0_cd
        description: "SDIO 0 cd#"
        pad_type: pad_functional_pd
        is_static: true
        connections:
          chip2pad: sdio0_cd_i
          oen: 1'b0

      - name: pad_sdio0_D{i}
        description: "SDIO 0 en"
        pad_type: pad_functional_pd
        multiple: 4
        is_static: true
        connections:
          pad2chip: sdio0_D{i}_o
          chip2pad: sdio0_D{i}_i
          oen: ~sdio0_oe_i
          
        ##  __  __                    _ 
        ## |  \/  |                  | |
        ## | \  / |_   ___  _____  __| |
        ## | |\/| | | | \ \/ / _ \/ _` |
        ## | |  | | |_| |>  <  __/ (_| |
        ## |_|  |_|\__,_/_/\_\___|\__,_|
      - name: pad_mx_can_{i}
        mux_groups: [mx_can, self]
        description: " Pads for the MX_CAN mux group. These pads can be configured to connect to any peripheral pad port in this group."
        multiple: 4
        pad_type: pad_functional_pd
        is_static: false

      - name: pad_mx_cam0_{i}
        mux_groups: [mx_cam0, self]
        description: " Pads for the MX_CAM0 mux group. These pads can be configured to connect to any peripheral pad port in this group."
        multiple: 11
        pad_type: pad_functional_pd
        is_static: false

      - name: pad_mx_cam1_{i}
        mux_groups: [mx_cam1, self]
        description: " Pads for the MX_CAM1 mux group. These pads can be configured to connect to any peripheral pad port in this group."
        multiple: 11
        pad_type: pad_functional_pd
        is_static: false

      - name: pad_mx_sdio1_{i}
        mux_groups: [mx_sdio1, self]
        description: " Pads for the MX_SDIO1 mux group. These pads can be configured to connect to any peripheral pad port in this group."
        multiple: 8
        pad_type: pad_functional_pd
        is_static: false
                
      - name: pad_mx_hyper1_{i}
        mux_groups: [mx_hyper, self]
        description: " Pads for the MX_HYPER1 mux group. These pads can be configured to connect to any peripheral pad port in this group."
        multiple: 13
        pad_type: pad_functional_pd
        is_static: false

      ##  _____           _       
      ## |  __ \         | |      
      ## | |__) |__  _ __| |_ ___ 
      ## |  ___/ _ \| '__| __/ __|
      ## | |  | (_) | |  | |_\__ \
      ## |_|   \___/|_|   \__|___/    

    port_group_common_definitions:
      cam_port_group: &cam_port_group
        name: cam_tlp
        mux_groups: mx_cam_tpl
        output_defaults: 1'b1
        ports:
          - name: cam_pclk
            connections:
              clk_i: pad2chip
              oen: 1'b1
          - name: cam_hsync
            connections:
              hsync_o: pad2chip
              oen: 1'b1
          - name: cam_vsync
            connections:
              vsync_o: pad2chip
              oen: 1'b1
          - name: cam_data{i}_i
            multiple: 8
            connections:
              data{i}_o: pad2chip
              oen: 1'b1
      spi_port_group: &spi_port_group
        name: spi_tlp
        mux_groups: mx_spi_tpl
        output_defaults: 1'b0
        ports:
          - name: spi_sck
            connections:
              chip2pad: clk_i
              oen: 1'b0
          - name: spi_cs
            connections:
              chip2pad: csn0_i
              oen: 1'b0
          - name: spi_miso
            connections:
              sd1_o: pad2chip
              oen: 1'b1
          - name: spi_mosi
            connections:
              chip2pad: sd0_i
              oen: 1'b0              
      i2c_port_group: &i2c_port_group
        name: i2c_tpl
        mux_groups: mx_i2c_tpl
        output_defaults:
          sda_o: 1'b1
          scl_o: 1'b1
        ports:
          - name: i2c_sda
            description: "Bidirectional I2C SDA signal"
            connections:
              chip2pad: sda_i
              sda_o: pad2chip
              oen: ~sda_oe_i
          - name: i2c_scl
            description: "Bidirectional I2C clock signal"
            connections:
              chip2pad: scl_i
              scl_o: pad2chip
              oen: ~scl_oe_i
      gpio_port_group: &gpio_port_group
        name: gpio_tpl
        mux_groups: mx_gpio_tpl
        output_defaults: 1'b1
        ports:
          - name: gpio
            connections:              
              chip2pad: gpio_i
              gpio_o: pad2chip
              oen: gpio_dir
      sdio_port_group: &sdio_port_group
        name: sdio_tpl
        mux_groups: mx_sdio_tpl
        output_defaults: 1'b1
        ports:
          - name: sdio_clk
            connections:
              chip2pad: clk_i
              oen: 1'b0
          - name: sdio_cmd
            connections:
              chip2pad: cmd_i
              cmd_o: pad2chip
              oen: cmd_oen_i
          - name: sdio_data{i}
            multiple: 4
            connections:
              chip2pad: data{i}_i
              data{i}_o: pad2chip
              oen: data{i}_oe_i
      uart_port_group: &uart_port_group
        name: uart_tpl
        mux_groups: mx_uart_tpl
        output_defaults: 1'b1
        ports:
          - name: uart_tx
            connections:
              chip2pad: tx_i
              oen: 1'b0
          - name: uart_rx
            connections:
              rx_o: pad2chip
              oen: 1'b0
      uart_cf_port_group: &uart_cf_port_group
        name: uart_cf_tpl
        mux_groups: mx_uart_cf_tpl
        output_defaults: 1'b1
        ports:
          - name: uart_tx
            connections:
              chip2pad: tx_i
              oen: 1'b0
          - name: uart_rx
            connections:
              rx_o: pad2chip
              oen: 1'b0
          - name: uart_rts
            connections:
              chip2pad: rts_i
              oen: 1'b0
          - name: uart_cts
            connections:
              cts_o: pad2chip
              oen: 1'b0
      hyper_port_group: &hyper_port_group
        name: hyper_tpl
        mux_groups: mx_hyper_tpl
        output_defaults: 1'b0
        ports:
          - name: hyper_cs{i}
            multiple: 2
            connections:
              chip2pad: cs{i}n_i
              oen: 1'b0
          - name: hyper_ck
            connections:
              chip2pad: ck_i
              oen: 1'b0
          - name: hyper_ckn
            connections:
              chip2pad: ckn_o
              oen: 1'b0
          - name: hyper_rwds
            connections:
              chip2pad: rwds_i
              rwds_o: pad2chip
              oen: ~rwds_oe_i
          - name: hyper_dq{i}_i
            connections:
              chip2pad: dq{i}_i
              dq{i}_o: pad2chip
              oen: ~dq_oe
          - name: hyper_rst
            connections:
              chip2pad: resetn_i
              oen: 1'b0
      eth_port_group: &eth_port_group
        name: eth_tpl
        mux_groups: mx_eth_tpl
        output_defaults: 1'b0
        ports:
          - name: eth_rst
            connections:
              chip2pad: eth_rst_i
              oen: 1'b0
          - name: eth_rxck
            connections:
              eth_rxcd_o: pad2chip
              oen: 1'b0
          - name: eth_rxctl
            connections:
              eth_rxctl_o: pad2chip
              oen: 1'b0
          - name: eth_rxd{i}
            multiple: 4
            connections:
              eth_rxd{i}_o: pad2chip
              oen: 1'b0
          - name: eth_txck
            connections:
              chip2pad: eth_txcd_i
              oen: 1'b1
          - name: eth_txctl
            connections:
              chip2pad: eth_txctl_o
              oen: 1'b1
          - name: eth_txd{i}
            multiple: 4
            connections:
              chip2pad: eth_txd{i}_i
              oen: 1'b1
              
            
          
      
          
              
    port_groups:
      - <<: *spi_port_group
        name: spi7
        mux_groups: [mx_can]
      - name: CAN2_CAN
        mux_groups: [mx_can]
        output_defaults:
          can1_rx_o: 1'b1
          can2_rx_o: 1'b1
        ports:
          - name: can1_tx
            connections:
              chip2pad: can1_tx_i
              oen: 1'b0
          - name: can1_rx
            connections:
              can1_rx_o: pad2chip
              oen: 1'b1
          - name: can2_tx
            connections:
              chip2pad: can2_tx_i
              oen: 1'b0
          - name: can2_rx
            connections:
              can2_rx_o: pad2chip
              oen: 1'b1
              
      - <<: *cam_port_group
        name: cam0
        mux_groups: [mx_cam0]
      - <<: *spi_port_group
        name: spi8
        mux_groups: [mx_cam0]
      - <<: *spi_port_group
        name: spi9
        mux_groups: [mx_cam0]
      - <<: *i2c_port_group
        name: i2c3
        mux_groups: [mx_cam0]
      - name: IMU2_DRDY
        mux_groups: [mx_cam0]
        output_defaults: 1'b1
        ports:
          - name: gpio57
            connections:
              gpio57_o: pad2chip
              chip2pad: gpio57_i
              oen: gpio57_dir_i

      - <<: *cam_port_group
        name: cam1
        mux_groups: [mx_cam1]
      - <<: *spi_port_group
        name: spi10
        mux_groups: [mx_cam1]
      - <<: *i2c_port_group
        name: i2c4
        mux_groups: [mx_cam1]
      - name: SPI10_CS1
        mux_groups: [mx_cam1]
        output_defaults: 1'b1
        ports:
          - name: spi10_cs1
            connections:
              chip2pad: spi10_cs_i
              oen: 1'b0
      - <<: *gpio_port_group
        name: gpio58
        mux_groups: [mx_cam1]
      - <<: *gpio_port_group
        name: gpio59
        mux_groups: [mx_cam1]
      - <<: *gpio_port_group
        name: gpio60
        mux_groups: [mx_cam1]

      - <<: *sdio_port_group
        name: sdio1
        mux_groups: [mx_sdio1]
      - <<: *uart_cf_port_group
        name: uart5
        mux_groups: [mx_sdio1]
      - <<: *uart_port_group
        name: uart6
        mux_groups: [mx_sdio1]
      - <<: *gpio_port_group
        name: gpio61
        mux_groups: [mx_sdio1]
      - <<: *gpio_port_group
        name: gpio62
        mux_groups: [mx_sdio1]

      - <<: *hyper_port_group
        name: hyper1
        mux_groups: [mx_hyper]
      - <<: *eth_port_group
        name: eth0
        mux_groups: [mx_hyper]
      - <<: *uart_port_group
        name: uart7
        mux_groups: [mx_hyper]
      - <<: *i2c_port_group
        name: i2c5
        mux_groups: [mx_hyper]
        

          
        
        



      
